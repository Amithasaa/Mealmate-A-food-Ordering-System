{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MealMate - Menu</title>
    <style>
      /* Reset */
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Segoe UI', sans-serif;
          background-color:rgb(231, 214, 219);
      }

      /* Navbar Styling (unchanged) */
      nav {
          background-color: lightpink;
          padding: 15px 30px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }

      .logo img {
          height: 50px;
          width: auto;
      }

      .nav-links {
          display: flex;
          gap: 12px;
      }

      .nav-links a {
          text-decoration: none;
          background-color: rgb(255, 182, 193);
          color: black;
          font-weight: bold;
          padding: 10px 18px;
          border-radius: 20px;
          transition: 0.3s ease-in-out;
          box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.2);
      }

      .nav-links a:hover {
          background-color: black;
          color: rgb(255, 182, 193);
          box-shadow: 2px 6px 6px rgba(0, 0, 0, 0.4);
          transform: scale(1.05);
      }

      /* Content Styling */
      .content {
          margin: 50px auto;
          width: 90%;
          text-align: center;
      }

      .content h1 {
          color: #000;
          font-size: 32px;
          margin-bottom: 30px;
          font-weight: bold;
          letter-spacing: 1px;
      }
        /* Main Content Styling */
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0" />
            <title>MealMate - Menu</title>
            <style>
                body {
                    font-family: 'Segoe UI', sans-serif;
                    background-color: #fce4ec;
                    margin: 0;
                    padding: 0;
                }
        
                nav {
                    background-color: lightpink;
                    padding: 15px 30px;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    border-radius: 0 0 15px 15px;
                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                }
        
                .logo img {
                    height: 50px;
                }
        
                .nav-links {
                    display: flex;
                    gap: 12px;
                }
        
                .nav-links a {
                    text-decoration: none;
                    background-color: rgb(255, 182, 193);
                    color: black;
                    font-weight: bold;
                    padding: 10px 18px;
                    border-radius: 20px;
                    transition: 0.3s ease-in-out;
                    box-shadow: 3px 4px 8px rgba(0, 0, 0, 0.2);
                }
        
                .nav-links a:hover {
                    background-color: black;
                    color: rgb(255, 182, 193);
                    transform: scale(1.05);
                }
        
                .container {
                  margin-top:130px;
                    background-color: white;
                    max-width: 1000px;
                    margin: 70px auto;
                    padding: 30px;
                    border-radius: 20px;
                    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
                }
        
                h1 {
                    color: #333;
                    margin-bottom: 15px;
                }
        
                .restaurant-details {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    margin-bottom: 25px;
                }
        
                .restaurant-info p {
                    margin: 5px 0;
                }
        
                .show-cart a {
                    text-decoration: none;
                }
        
                .show-cart button {
                    background-color: lightpink;
                    color: black;
                    border: none;
                    padding: 10px 20px;
                    border-radius: 20px;
                    cursor: pointer;
                    transition: 0.3s ease-in-out;
                    box-shadow: 2px 4px 6px rgba(0, 0, 0, 0.2);
                }
        
                .show-cart button:hover {
                    background-color: black;
                    color: lightpink;
                    transform: scale(1.05);
                }
                table {
                  width: 100%;
                  border-collapse: collapse;
                  margin-top: 40px; /* Increased space below header */
                  border: 1px solid #e0b0b0; /* Light pink border around table */
                  border-radius: 12px;
                  overflow: hidden;
              }
              
              th, td {
                  padding: 12px 15px;
                  text-align: center;
                  border-right: 1px solid #f5b2b2; /* Column separator */
                  border-bottom: 1px solid #f5b2b2; /* Row separator */
              }
              
              th {
                  background-color: lightpink;
                  color: black;
              }
              
              tr:last-child td {
                  border-bottom: none; /* Remove last row border bottom */
              }
              
              td:last-child, th:last-child {
                  border-right: none; /* Remove last column border right */
              }
              
              tr:nth-child(even) {
                  background-color:rgb(250, 224, 238); /* Lightest pink shade for even rows */
              }
              
              tr:hover {
                  background-color: #f8d7da; /* Slightly darker pink when hovered */
              }
              
                img {
                    height: 80px;
                    width: auto;
                }
        
                button.add-btn {
                    background-color: lightpink;
                    color: black;
                    padding: 8px 16px;
                    border-radius: 20px;
                    border: none;
                    cursor: pointer;
                    transition: 0.3s ease-in-out;
                    box-shadow: 2px 4px 6px rgba(0, 0, 0, 0.2);
                }
        
                button.add-btn:hover {
                    background-color: black;
                    color: lightpink;
                    transform: scale(1.05);
                }
            </style>
        </head>
        <body>
        
            <nav>
                <div class="logo">
                    <a href="{% url 'delivery:index' %}">
                        <img src="{% static 'delivery/images/logosuper.png' %}" alt="MealMate Logo">
                    </a>
                </div>
                <div class="nav-links">
                    <a href="{% url 'delivery:cusdisplay_res' username %}">View Restaurants</a>
                    <a href="{% url 'delivery:sign_in' %}">Sign In</a>
                    <a href="{% url 'delivery:sign_up' %}">Sign Up</a>
                </div>
            </nav>
        
            <div class="container">
                <div class="restaurant-details">
                    <div class="restaurant-info">
                        <h1>Menu for {{ res.Res_name }}</h1>
                        <p>Address: {{ res.address }}</p>
                        <p>Category: {{ res.Food_cat }}</p>
                        <p>Rating: {{ res.rating }}/5</p>
                    </div>
                    <div class="show-cart">
                        <a href="{% url 'delivery:show_cart' username %}">
                            <button>Show Cart</button>
                        </a>
                    </div>
                </div>
        
                <table>
                    <tr>
                        <th>Item Name</th>
                        <th>Description</th>
                        <th>Price</th>
                        <th>Image</th>
                        <th>Availability</th>
                        <th>Category</th>
                        <th>Actions</th>
                    </tr>
                    {% for item in menu %}
                    <tr>
                        <td>{{ item.item_name }}</td>
                        <td>{{ item.description }}</td>
                        <td>${{ item.price }}</td>
                        <td><img src="{{ item.img }}" alt="Menu Image" /></td>
                        <td>{% if item.is_available %}Available{% else %}Not Available{% endif %}</td>
                        <td>{{ item.category }}</td>
                        <td>
                            <form method="POST" action="{% url 'delivery:add_to_cart' item.id username %}">
                                {% csrf_token %}
                                <button type="submit" class="add-btn" onclick="return confirm('Add to cart?')">Add to Cart</button>
                            </form>
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="7">No menu items available.</td>
                    </tr>
                    {% endfor %}
                </table>
        
            </div>
            <footer style="background-color:rgb(15, 13, 13); padding: 20px; text-align: center; margin-top: 40px; border-top: 1px solid #ddd;">
                <p style="font-size: 14px; color: white;">
                    &copy; <span id="current-year"></span> MealMate. All rights reserved.
                </p>
            </footer>
        
            <script>
                // JavaScript to update the year automatically
                document.getElementById("current-year").textContent = new Date().getFullYear();
            </script>

            {% include 'delivery/chat.html' %}
        </body>
        </html>
        